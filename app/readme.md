# App (daemon)

## A few words about the usage statistics collecting

This app periodically sends anonymous usage statistics to the statistics server. It helps us to understand how the
app is used and how to improve it. Statistics are sent after a few seconds after the server starts and every 30
minutes after that, and doesn't contain any sensitive information. Usually, it takes less than 1KB of traffic.

It's like Google Analytics, but for the backend app.

The following information is collected:

- Application version
- Operating system (just type and architecture, e.g.: `linux/arm64`)

> At any time you can inspect the source code to see what and how data is collected.

For identification purposes, the first 16 bytes of the SHA256 hash of the hardware MAC address of the first network
adapter is used: `sha256(net.Interfaces()[0].HardwareAddr)[:16]`. It doesn't allow anyone to identify you, but it helps
us to understand how many users use the app.

The data is sent to the server via HTTPS and is not stored anywhere except the [statistics server][mixpanel], and is
not used for any other purposes.

You can disable the statistics collecting by passing the `--dont-send-anonymous-usage` flag to the app, but we will
be very grateful if you leave it enabled ðŸ’•.

[mixpanel]:https://eu.mixpanel.com/project/2933933

<!--GENERATED:CLI_DOCS-->
<!-- Documentation inside this block generated by gh.tarampamp.am/urfave-cli-docs/markdown; DO NOT EDIT -->

## CLI interface

indocker.app.

Usage:

```bash
$ ./app [GLOBAL FLAGS] [COMMAND] [COMMAND FLAGS] [ARGUMENTS...]
```

Global flags:

| Name               | Description                                   | Default value | Environment variables |
|--------------------|-----------------------------------------------|:-------------:|:---------------------:|
| `--log-level="â€¦"`  | logging level (`debug/info/warn/error/fatal`) |    `info`     |      `LOG_LEVEL`      |
| `--log-format="â€¦"` | logging format (`console/json`)               |   `console`   |     `LOG_FORMAT`      |

### `start` command (aliases: `server`, `serve`)

Start HTTP/HTTPs servers.

Usage:

```bash
$ ./app [GLOBAL FLAGS] start [COMMAND FLAGS] [ARGUMENTS...]
```

The following flags are supported:

| Name                          | Description                                                                                          | Default value                 | Environment variables   |
|-------------------------------|------------------------------------------------------------------------------------------------------|:-----------------------------:|:-----------------------:|
| `--addr="â€¦"`                  | server address (hostname or port; 0.0.0.0 for all interfaces)                                        |           `0.0.0.0`           |      `SERVER_ADDR`      |
| `--http-port="â€¦"`             | HTTP server port                                                                                     |            `8080`             |       `HTTP_PORT`       |
| `--https-port="â€¦"`            | HTTPS server port                                                                                    |            `8443`             |      `HTTPS_PORT`       |
| `--https-cert-file="â€¦"`       | TLS certificate file path (if empty, embedded certificate will be used)                              |                               |    `HTTPS_CERT_FILE`    |
| `--https-key-file="â€¦"`        | TLS key file path (if empty, embedded key will be used)                                              |                               |    `HTTPS_KEY_FILE`     |
| `--read-timeout="â€¦"`          | maximum duration for reading the entire request, including the body (zero = no timeout)              |            `1m0s`             |     `READ_TIMEOUT`      |
| `--write-timeout="â€¦"`         | maximum duration before timing out writes of the response (zero = no timeout)                        |            `1m0s`             |     `WRITE_TIMEOUT`     |
| `--idle-timeout="â€¦"`          | maximum amount of time to wait for the next request (keep-alive, zero = no timeout)                  |            `1m0s`             |     `WRITE_TIMEOUT`     |
| `--shutdown-timeout="â€¦"`      | maximum duration for graceful shutdown                                                               |             `15s`             |   `SHUTDOWN_TIMEOUT`    |
| `--docker-socket="â€¦"`         | docker host (or path to the docker socket)                                                           | `unix:///var/run/docker.sock` |      `DOCKER_HOST`      |
| `--proxy-request-timeout="â€¦"` | time limit for requests made by proxy server                                                         |            `1m0s`             | `PROXY_REQUEST_TIMEOUT` |
| `--docker-watch-interval="â€¦"` | how often to ask Docker for changes (minimum 100ms)                                                  |             `1s`              | `DOCKER_WATCH_INTERVAL` |
| `--dont-send-anonymous-usage` | Don't send anonymous usage statistics (please, leave it enabled, it helps us to improve the project) |            `false`            |         *none*          |

### `start healthcheck` subcommand (aliases: `chk`, `health`, `check`)

Health checker for the HTTP(S) servers. Use case - docker healthcheck.

Usage:

```bash
$ ./app [GLOBAL FLAGS] start healthcheck [COMMAND FLAGS] [ARGUMENTS...]
```

The following flags are supported:

| Name               | Description       | Default value | Environment variables |
|--------------------|-------------------|:-------------:|:---------------------:|
| `--http-port="â€¦"`  | HTTP server port  |    `8080`     |      `HTTP_PORT`      |
| `--https-port="â€¦"` | HTTPS server port |    `8443`     |     `HTTPS_PORT`      |

<!-- End of automatically generated block -->
<!--/GENERATED:CLI_DOCS-->
